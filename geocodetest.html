<!DOCTYPE html>
<html lang="en">
<head>
	<title>test</title>
		<meta charset="utf8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<!--[if lt IE 9]>
			<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
			<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
		<![endif]-->

		<link rel="shortcut icon" href="assets/images/favicon.png">
		<link rel="stylesheet" href="assets/stylesheets/main.min.css">
		<script src="assets/js/lib/jquery-1.11.1.min.js"></script>
	
</head>
<body>
	


	<div id="result">loading...</div>

<script type="text/javascript">
(function($){
	
	$(document).ready(function(){

		var node = document.getElementById('result');

		function showPosition(position) {
		    node.innerHTML = "Latitude: " + position.coords.latitude + 
		    "<br>Longitude: " + position.coords.longitude; 

		    var lat = position.coords.latitude;
		    var lng = position.coords.longitude;

		   // lat = '53.9';
		    // lng = '27.566667000000002';

		    var url = 'https://maps.googleapis.com/maps/api/geocode/json?latlng=';
		    url += lat + ',' + lng;

		    $.ajax({
		           url: url,
		           type: 'GET',
		           dataType: 'json',
		           success:function(resp){
		           	if(resp.results){
		               for(var i=0; i< resp.results.length;i++){
		               	var str = '<p>';
		               	for(var n in resp.results[i]){
		               		str += JSON.stringify(resp.results[i][n]);
		               	}
		               	str += '</p>';
		               }
		               node.innerHTML += str;
		           	}
		           }
		       });

		}

		function getLocation() {
			if (navigator.geolocation) {
				navigator.geolocation.getCurrentPosition(showPosition, showError);
			} else {
				node.innerHTML = "Geolocation is not supported by this browser.";
			}
		}

		function showError(error) {
		    switch(error.code) {
		        case error.PERMISSION_DENIED:
		            node.innerHTML = "User denied the request for Geolocation."
		            break;
		        case error.POSITION_UNAVAILABLE:
		            node.innerHTML = "Location information is unavailable."
		            break;
		        case error.TIMEOUT:
		            node.innerHTML = "The request to get user location timed out."
		            break;
		        case error.UNKNOWN_ERROR:
		            node.innerHTML = "An unknown error occurred."
		            break;
		    }
		}

		setTimeout(function() {
			
			getLocation();

		}, 500);

	});

})(jQuery);

</script>

</body>
</html>